<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Juliana Nataly Quintanilla">

<title>SVM</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="SVM_TAREA_UNIDAD III_files/libs/clipboard/clipboard.min.js"></script>
<script src="SVM_TAREA_UNIDAD III_files/libs/quarto-html/quarto.js"></script>
<script src="SVM_TAREA_UNIDAD III_files/libs/quarto-html/popper.min.js"></script>
<script src="SVM_TAREA_UNIDAD III_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="SVM_TAREA_UNIDAD III_files/libs/quarto-html/anchor.min.js"></script>
<link href="SVM_TAREA_UNIDAD III_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="SVM_TAREA_UNIDAD III_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="SVM_TAREA_UNIDAD III_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="SVM_TAREA_UNIDAD III_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="SVM_TAREA_UNIDAD III_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">SVM</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Juliana Nataly Quintanilla </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="unidad-iii-algoritmos-de-caja-negra" class="level1">
<h1><em>Unidad III: Algoritmos de caja negra</em></h1>
<ul>
<li><strong><em>Realizar Support Vector Machines con Datos en CRUDO” y datos con “Transformación de datos por logaritmo”</em></strong></li>
</ul>
<section id="cargar-librerias" class="level2">
<h2 class="anchored" data-anchor-id="cargar-librerias">Cargar Librerias</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(e1071)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>corrplot 0.92 loaded</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: lattice</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kernlab)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'kernlab'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:ggplot2':

    alpha</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pROC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Type 'citation("pROC")' for a citation.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'pROC'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    cov, smooth, var</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'gridExtra'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    combine</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggfortify)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'purrr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:kernlab':

    cross</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:caret':

    lift</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nnet)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggstatsplot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>You can cite this package as:
     Patil, I. (2021). Visualizations with statistical details: The 'ggstatsplot' approach.
     Journal of Open Source Software, 6(61), 3167, doi:10.21105/joss.03167</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaan)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>This is lavaan 0.6-15
lavaan is FREE software! Please report any bugs.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(doParallel) <span class="co"># parallel processing</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: foreach</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'foreach'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:purrr':

    accumulate, when</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: iterators</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: parallel</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">registerDoParallel</span>()</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(foreach)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(iterators)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(parallel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cargar-datos" class="level2">
<h2 class="anchored" data-anchor-id="cargar-datos">Cargar Datos</h2>
<ul>
<li><p>Se realiza la carga de datos estableciendo una variable que lee los datos ubicados en la misma carpeta, utilizando el comando “read.csv(”./cancer.csv”), header=T)“.</p></li>
<li><p>El comando “head()” se emplea para visualizar las primeras filas de un conjunto de datos o de un objeto en formato de tabla.</p></li>
<li><p>El comando “summary(datos)” se utiliza para obtener las estadísticas descriptivas de las variables.</p></li>
<li><p>El comando “str(datos)” se emplea para realizar el análisis estadístico de los datos.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar los datos</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./cancer.csv"</span>,<span class="at">header =</span> T)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>datos.numericos <span class="ot">&lt;-</span> datos[, <span class="fu">which</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(datos, is.numeric)))]</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(datos.numericos) <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"Var"</span>, <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">11</span>))</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Explorar los datos</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos)  <span class="co"># Ver las primeras filas del conjunto de datos</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  diagnostico mean_radius mean_texture mean_perimeter mean_area mean_smoothnes
1           M       17.99        10.38         122.80    1001.0        0.11840
2           M       20.57        17.77         132.90    1326.0        0.08474
3           M       19.69        21.25         130.00    1203.0        0.10960
4           M       11.42        20.38          77.58     386.1        0.14250
5           M       20.29        14.34         135.10    1297.0        0.10030
6           M       12.45        15.70          82.57     477.1        0.12780
  mean_compactness mean_concavity mean_concave_points mean_simmetry
1          0.27760         0.3001             0.14710        0.2419
2          0.07864         0.0869             0.07017        0.1812
3          0.15990         0.1974             0.12790        0.2069
4          0.28390         0.2414             0.10520        0.2597
5          0.13280         0.1980             0.10430        0.1809
6          0.17000         0.1578             0.08089        0.2087
  mean_fractal_dimension se_radius se_texture se_perimeter se_area se_smoothnes
1                0.07871    1.0950     0.9053        8.589  153.40     0.006399
2                0.05667    0.5435     0.7339        3.398   74.08     0.005225
3                0.05999    0.7456     0.7869        4.585   94.03     0.006150
4                0.09744    0.4956     1.1560        3.445   27.23     0.009110
5                0.05883    0.7572     0.7813        5.438   94.44     0.011490
6                0.07613    0.3345     0.8902        2.217   27.19     0.007510
  se_compactness se_concavity se_concave_points se_simmetry
1        0.04904      0.05373           0.01587     0.03003
2        0.01308      0.01860           0.01340     0.01389
3        0.04006      0.03832           0.02058     0.02250
4        0.07458      0.05661           0.01867     0.05963
5        0.02461      0.05688           0.01885     0.01756
6        0.03345      0.03672           0.01137     0.02165
  se_fractal_dimension worst_radius worst_texture worst_perimeter worst_area
1             0.006193        25.38         17.33          184.60     2019.0
2             0.003532        24.99         23.41          158.80     1956.0
3             0.004571        23.57         25.53          152.50     1709.0
4             0.009208        14.91         26.50           98.87      567.7
5             0.005115        22.54         16.67          152.20     1575.0
6             0.005082        15.47         23.75          103.40      741.6
  worst_smoothnes worst_compactness worst_concavity worst_concave_points
1          0.1622            0.6656          0.7119               0.2654
2          0.1238            0.1866          0.2416               0.1860
3          0.1444            0.4245          0.4504               0.2430
4          0.2098            0.8663          0.6869               0.2575
5          0.1374            0.2050          0.4000               0.1625
6          0.1791            0.5249          0.5355               0.1741
  worst_simmetry worst_fractal_dimension
1         0.4601                 0.11890
2         0.2750                 0.08902
3         0.3613                 0.08758
4         0.6638                 0.17300
5         0.2364                 0.07678
6         0.3985                 0.12440</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(datos)  <span class="co"># Obtener estadísticas descriptivas de las variables</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> diagnostico         mean_radius      mean_texture   mean_perimeter  
 Length:569         Min.   : 6.981   Min.   : 9.71   Min.   : 43.79  
 Class :character   1st Qu.:11.700   1st Qu.:16.17   1st Qu.: 75.17  
 Mode  :character   Median :13.370   Median :18.84   Median : 86.24  
                    Mean   :14.127   Mean   :19.29   Mean   : 91.97  
                    3rd Qu.:15.780   3rd Qu.:21.80   3rd Qu.:104.10  
                    Max.   :28.110   Max.   :39.28   Max.   :188.50  
   mean_area      mean_smoothnes    mean_compactness  mean_concavity   
 Min.   : 143.5   Min.   :0.05263   Min.   :0.01938   Min.   :0.00000  
 1st Qu.: 420.3   1st Qu.:0.08637   1st Qu.:0.06492   1st Qu.:0.02956  
 Median : 551.1   Median :0.09587   Median :0.09263   Median :0.06154  
 Mean   : 654.9   Mean   :0.09636   Mean   :0.10434   Mean   :0.08880  
 3rd Qu.: 782.7   3rd Qu.:0.10530   3rd Qu.:0.13040   3rd Qu.:0.13070  
 Max.   :2501.0   Max.   :0.16340   Max.   :0.34540   Max.   :0.42680  
 mean_concave_points mean_simmetry    mean_fractal_dimension   se_radius     
 Min.   :0.00000     Min.   :0.1060   Min.   :0.04996        Min.   :0.1115  
 1st Qu.:0.02031     1st Qu.:0.1619   1st Qu.:0.05770        1st Qu.:0.2324  
 Median :0.03350     Median :0.1792   Median :0.06154        Median :0.3242  
 Mean   :0.04892     Mean   :0.1812   Mean   :0.06280        Mean   :0.4052  
 3rd Qu.:0.07400     3rd Qu.:0.1957   3rd Qu.:0.06612        3rd Qu.:0.4789  
 Max.   :0.20120     Max.   :0.3040   Max.   :0.09744        Max.   :2.8730  
   se_texture      se_perimeter       se_area         se_smoothnes     
 Min.   :0.3602   Min.   : 0.757   Min.   :  6.802   Min.   :0.001713  
 1st Qu.:0.8339   1st Qu.: 1.606   1st Qu.: 17.850   1st Qu.:0.005169  
 Median :1.1080   Median : 2.287   Median : 24.530   Median :0.006380  
 Mean   :1.2169   Mean   : 2.866   Mean   : 40.337   Mean   :0.007041  
 3rd Qu.:1.4740   3rd Qu.: 3.357   3rd Qu.: 45.190   3rd Qu.:0.008146  
 Max.   :4.8850   Max.   :21.980   Max.   :542.200   Max.   :0.031130  
 se_compactness      se_concavity     se_concave_points   se_simmetry      
 Min.   :0.002252   Min.   :0.00000   Min.   :0.000000   Min.   :0.007882  
 1st Qu.:0.013080   1st Qu.:0.01509   1st Qu.:0.007638   1st Qu.:0.015160  
 Median :0.020450   Median :0.02589   Median :0.010930   Median :0.018730  
 Mean   :0.025478   Mean   :0.03189   Mean   :0.011796   Mean   :0.020542  
 3rd Qu.:0.032450   3rd Qu.:0.04205   3rd Qu.:0.014710   3rd Qu.:0.023480  
 Max.   :0.135400   Max.   :0.39600   Max.   :0.052790   Max.   :0.078950  
 se_fractal_dimension  worst_radius   worst_texture   worst_perimeter 
 Min.   :0.0008948    Min.   : 7.93   Min.   :12.02   Min.   : 50.41  
 1st Qu.:0.0022480    1st Qu.:13.01   1st Qu.:21.08   1st Qu.: 84.11  
 Median :0.0031870    Median :14.97   Median :25.41   Median : 97.66  
 Mean   :0.0037949    Mean   :16.27   Mean   :25.68   Mean   :107.26  
 3rd Qu.:0.0045580    3rd Qu.:18.79   3rd Qu.:29.72   3rd Qu.:125.40  
 Max.   :0.0298400    Max.   :36.04   Max.   :49.54   Max.   :251.20  
   worst_area     worst_smoothnes   worst_compactness worst_concavity 
 Min.   : 185.2   Min.   :0.07117   Min.   :0.02729   Min.   :0.0000  
 1st Qu.: 515.3   1st Qu.:0.11660   1st Qu.:0.14720   1st Qu.:0.1145  
 Median : 686.5   Median :0.13130   Median :0.21190   Median :0.2267  
 Mean   : 880.6   Mean   :0.13237   Mean   :0.25427   Mean   :0.2722  
 3rd Qu.:1084.0   3rd Qu.:0.14600   3rd Qu.:0.33910   3rd Qu.:0.3829  
 Max.   :4254.0   Max.   :0.22260   Max.   :1.05800   Max.   :1.2520  
 worst_concave_points worst_simmetry   worst_fractal_dimension
 Min.   :0.00000      Min.   :0.1565   Min.   :0.05504        
 1st Qu.:0.06493      1st Qu.:0.2504   1st Qu.:0.07146        
 Median :0.09993      Median :0.2822   Median :0.08004        
 Mean   :0.11461      Mean   :0.2901   Mean   :0.08395        
 3rd Qu.:0.16140      3rd Qu.:0.3179   3rd Qu.:0.09208        
 Max.   :0.29100      Max.   :0.6638   Max.   :0.20750        </code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular medidas de tendencia central</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(datos<span class="sc">$</span>variable)  <span class="co"># Calcular la media de una variable</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in mean.default(datos$variable): argument is not numeric or logical:
returning NA</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(datos<span class="sc">$</span>variable)  <span class="co"># Calcular la mediana de una variable</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos<span class="sc">$</span>variable)  <span class="co"># Obtener la tabla de frecuencias de una variable categórica</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt; table of extent 0 &gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular medidas de dispersión</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(datos<span class="sc">$</span>variable)  <span class="co"># Calcular la desviación estándar de una variable</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(datos<span class="sc">$</span>variable)  <span class="co"># Obtener el rango de una variable</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(x, na.rm = na.rm): ningún argumento finito para min; retornando
Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in max(x, na.rm = na.rm): ningun argumento finito para max; retornando
-Inf</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  Inf -Inf</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(datos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   569 obs. of  31 variables:
 $ diagnostico            : chr  "M" "M" "M" "M" ...
 $ mean_radius            : num  18 20.6 19.7 11.4 20.3 ...
 $ mean_texture           : num  10.4 17.8 21.2 20.4 14.3 ...
 $ mean_perimeter         : num  122.8 132.9 130 77.6 135.1 ...
 $ mean_area              : num  1001 1326 1203 386 1297 ...
 $ mean_smoothnes         : num  0.1184 0.0847 0.1096 0.1425 0.1003 ...
 $ mean_compactness       : num  0.2776 0.0786 0.1599 0.2839 0.1328 ...
 $ mean_concavity         : num  0.3001 0.0869 0.1974 0.2414 0.198 ...
 $ mean_concave_points    : num  0.1471 0.0702 0.1279 0.1052 0.1043 ...
 $ mean_simmetry          : num  0.242 0.181 0.207 0.26 0.181 ...
 $ mean_fractal_dimension : num  0.0787 0.0567 0.06 0.0974 0.0588 ...
 $ se_radius              : num  1.095 0.543 0.746 0.496 0.757 ...
 $ se_texture             : num  0.905 0.734 0.787 1.156 0.781 ...
 $ se_perimeter           : num  8.59 3.4 4.58 3.44 5.44 ...
 $ se_area                : num  153.4 74.1 94 27.2 94.4 ...
 $ se_smoothnes           : num  0.0064 0.00522 0.00615 0.00911 0.01149 ...
 $ se_compactness         : num  0.049 0.0131 0.0401 0.0746 0.0246 ...
 $ se_concavity           : num  0.0537 0.0186 0.0383 0.0566 0.0569 ...
 $ se_concave_points      : num  0.0159 0.0134 0.0206 0.0187 0.0188 ...
 $ se_simmetry            : num  0.03 0.0139 0.0225 0.0596 0.0176 ...
 $ se_fractal_dimension   : num  0.00619 0.00353 0.00457 0.00921 0.00511 ...
 $ worst_radius           : num  25.4 25 23.6 14.9 22.5 ...
 $ worst_texture          : num  17.3 23.4 25.5 26.5 16.7 ...
 $ worst_perimeter        : num  184.6 158.8 152.5 98.9 152.2 ...
 $ worst_area             : num  2019 1956 1709 568 1575 ...
 $ worst_smoothnes        : num  0.162 0.124 0.144 0.21 0.137 ...
 $ worst_compactness      : num  0.666 0.187 0.424 0.866 0.205 ...
 $ worst_concavity        : num  0.712 0.242 0.45 0.687 0.4 ...
 $ worst_concave_points   : num  0.265 0.186 0.243 0.258 0.163 ...
 $ worst_simmetry         : num  0.46 0.275 0.361 0.664 0.236 ...
 $ worst_fractal_dimension: num  0.1189 0.089 0.0876 0.173 0.0768 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">#datos&lt;-datos[,1:11] </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Comentario</strong></p>
<p>Cuando se aplica <strong><code>summary()</code></strong> a un conjunto de datos, se calculan varias estadísticas descriptivas para cada columna. Estas estadísticas pueden incluir:</p>
<p>Medir la media y la mediana es útil para resumir rápidamente los datos, pero no nos proporciona información sobre la diversidad de los mismos.</p>
<p>Para medir la dispersión, es necesario utilizar estadísticas que se ocupen de la acumulación en los datos.</p>
<p>El resumen de cinco números es un conjunto de cinco estadísticas que representan la dispersión de un conjunto de datos:</p>
<ol type="1">
<li><p>Mínimo (Min.)</p></li>
<li><p>Primer cuartil o Q1 (1st Qu.)</p></li>
<li><p>Mediana o Q2 (Mediana)</p></li>
<li><p>Tercer cuartil o Q3 (3rd Qu.)</p></li>
<li><p>Máximo (Máx.)</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co">#head(datos)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="evaluacion-de-datos-en-crudo" class="level2">
<h2 class="anchored" data-anchor-id="evaluacion-de-datos-en-crudo">Evaluacion de datos en CRUDO</h2>
<section id="diagrama-de-cajas" class="level3">
<h3 class="anchored" data-anchor-id="diagrama-de-cajas">Diagrama de cajas</h3>
<p>Los diagramas de caja, son representaciones gráficas que permiten visualizar la distribución de una variable utilizando los cuartiles, lo cual nos ayuda a inferir características relacionadas con su dispersión, ubicación y simetría.</p>
<p>En el caso de querer generar los diagramas de caja de todas las variables presentes en los datos del archivo “cancer.csv”, se emplea el comando “geom_boxplot()”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#diagrama de cajas unido</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>datos.melt<span class="ot">&lt;-</span>reshape2<span class="sc">::</span><span class="fu">melt</span>((datos))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Using diagnostico as id variables</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(datos.melt,<span class="fu">aes</span>(<span class="at">y=</span>value,<span class="at">fill=</span>variable))<span class="sc">+</span><span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="SVM_TAREA_UNIDAD-III_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="grafica-de-densidad" class="level3">
<h3 class="anchored" data-anchor-id="grafica-de-densidad">Grafica de Densidad</h3>
<p>Un gráfico de densidad muestra cómo se distribuyen los datos cuantitativos en un rango continuo o período de tiempo. Este gráfico es una adaptación de un histograma que utiliza el suavizado kernel para trazar valores, lo que permite distribuciones más suaves al eliminar el ruido.</p>
<ul>
<li>Se utiliza el comando “geom_density()” para graficar el diagrama de cajas de todas las variables presentes en los datos de “cancer.csv”</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>datos.melt1<span class="ot">&lt;-</span>reshape2<span class="sc">::</span><span class="fu">melt</span>((datos))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Using diagnostico as id variables</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(datos.melt1,<span class="fu">aes</span>(<span class="at">x=</span>value))<span class="sc">+</span><span class="fu">geom_density</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="SVM_TAREA_UNIDAD-III_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li><p>Transformar en función logarítmica porque los algoritmos están diseñados la mayoría por distribuciones normales, aunque el que se está observando funcionaria con todo tipo de datos, sin embargo para corroborar se necesita realizar un análisis de componentes principales.</p></li>
<li><p>Se transforma a función logarítmica, puesto que la gráfica de densidad no es parecida a una gráfica de distribución normal.</p></li>
</ul>
</section>
<section id="analisis-de-componentes-principales-pca-en-crudo" class="level3">
<h3 class="anchored" data-anchor-id="analisis-de-componentes-principales-pca-en-crudo">Analisis de Componentes Principales (PCA) en CRUDO</h3>
<p>El análisis de componentes principales (PCA), que es una técnica de aprendizaje no supervisado, es comúnmente utilizado en combinación con el análisis exploratorio de datos.</p>
<p><strong>Scree plot</strong></p>
<p>Scree Plot muestra la proporción de varianza. Cada punto de la gráfica representa un componente principal y el eje y muestra la proporción de la varianza explicada. El eje x representa el número de componentes.</p>
<p>Las líneas de Scree Plot que conectan los puntos muestran cómo se acumula la varianza explicada a medida que se agregan más componentes principales. Califique los puntos en el gráfico donde la curva se aplana o cae, por lo general, indican el número óptimo de componentes principales que se deben mantener. Los componentes anteriores a este punto suelen explicar la mayor parte de la variabilidad de los datos, mientras que los componentes posteriores a este punto pueden contener información o ruido menos relevante.</p>
<p><strong>Biplot</strong></p>
<p>Un biplot PCA muestra una representación de los componentes principales en un espacio bidimensional, donde cada punto representa la variable original (en este caso, la columna seleccionada del conjunto de datos).</p>
<p>El color de los puntos en el biplot se utiliza para indicar el diagnóstico del caso (categoría “benigna” o “maligna”). Las líneas de referencia que se cruzan en el origen (punto [0,0]) representan los ejes de los componentes principales. Estas líneas proporcionan una referencia para la orientación y dirección de variables y observaciones en el espacio PCA. - Se realiza primero un Scree Plot y seguido se realiza un Biplot para el analisis del comportamiento de los componentes principales.</p>
<pre><code>-   SCREE PLOT</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>cancer.pca <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(datos[, <span class="dv">2</span><span class="sc">:</span><span class="dv">11</span>], <span class="at">center=</span><span class="cn">TRUE</span>, <span class="at">scale=</span><span class="cn">TRUE</span>)</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cancer.pca, <span class="at">type=</span><span class="st">"l"</span>, <span class="at">main=</span><span class="st">''</span>)</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>(<span class="at">nx =</span> <span class="dv">10</span>, <span class="at">ny =</span> <span class="dv">14</span>)</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span>(<span class="at">main =</span> <span class="st">"PCA"</span>, <span class="at">sub =</span> <span class="cn">NULL</span>, <span class="at">xlab =</span> <span class="st">"Components"</span>)</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="SVM_TAREA_UNIDAD-III_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li><ul>
<li>BIPLOT</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>pca_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(cancer.pca<span class="sc">$</span>x)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pca_df, <span class="fu">aes</span>(<span class="at">x=</span>PC1, <span class="at">y=</span>PC2, <span class="at">col=</span>datos<span class="sc">$</span>diagnostico)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="SVM_TAREA_UNIDAD-III_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="svm-con-datos-en-crudo" class="level3">
<h3 class="anchored" data-anchor-id="svm-con-datos-en-crudo">SVM con datos en crudo</h3>
<ol type="1">
<li><strong>Dividir los datos en entrenamiento y prueba</strong></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>n<span class="ot">&lt;-</span><span class="fu">nrow</span>(datos)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123456</span>)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>datos<span class="sc">$</span>diagnostico<span class="ot">&lt;-</span><span class="fu">as.factor</span>(datos<span class="sc">$</span>diagnostico)</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> <span class="fu">sample</span>(n,<span class="fu">floor</span>(n<span class="sc">*</span><span class="fl">0.7</span>))</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>datos.train <span class="ot">&lt;-</span> datos[train,]</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>datos.test  <span class="ot">&lt;-</span> datos[<span class="sc">-</span>train,]</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a><span class="co">#datos.test &lt;- dato.log[train,]</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a><span class="co">#datos.test  &lt;- datos.log[-train,]</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a><span class="co">#set.seed(123456)</span></span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a><span class="co">#sample &lt;- sample(c(TRUE, FALSE), nrow(datos), replace=TRUE, prob=c(0.7,0.3))</span></span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a><span class="co">#datos.train  &lt;- datos[sample, ]</span></span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a><span class="co">#datos.test   &lt;- datos[!sample, ]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li><p><strong>Formacion de modelos</strong></p>
<p>El comando “Kernel” se utiliza para la construcción de modelos. Se aplica tanto al modelo clasifier.lineal como al modelo clasifier.gauss.</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>clasifier.lineal<span class="ot">&lt;-</span><span class="fu">ksvm</span>(diagnostico<span class="sc">~</span> .,<span class="at">data=</span>datos.train,<span class="at">kernel=</span><span class="st">"vanilladot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Setting default kernel parameters  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>clasifier.gauss<span class="ot">&lt;-</span><span class="fu">ksvm</span>(diagnostico<span class="sc">~</span>.,<span class="at">data=</span>datos.train,<span class="at">kernel =</span> <span class="st">"rbfdot"</span>)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>clasifier.lineal</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Support Vector Machine object of class "ksvm" 

SV type: C-svc  (classification) 
 parameter : cost C = 1 

Linear (vanilla) kernel function. 

Number of Support Vectors : 33 

Objective Function Value : -21.2999 
Training error : 0.012563 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>clasifier.gauss</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Support Vector Machine object of class "ksvm" 

SV type: C-svc  (classification) 
 parameter : cost C = 1 

Gaussian Radial Basis kernel function. 
 Hyperparameter : sigma =  0.0405393061667693 

Number of Support Vectors : 107 

Objective Function Value : -47.3373 
Training error : 0.015075 </code></pre>
</div>
</div>
<ol start="3" type="1">
<li><p><strong>Evaluación de rendimiento del modelo</strong></p>
<p>Cuando se emplea “ConfusionMatrix” para abordar un problema de clasificación con dos o más clases, la matriz de confusión se utiliza como medida de rendimiento. Se utiliza para evaluar tanto el modelo lineal como el modelo de gauss.</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>prediction.linear<span class="ot">&lt;-</span><span class="fu">predict</span>(clasifier.lineal,datos.test);res.linear<span class="ot">&lt;-</span><span class="fu">table</span>(prediction.linear,datos.test<span class="sc">$</span>diagnostico)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>prediction.gauss<span class="ot">&lt;-</span><span class="fu">predict</span>(clasifier.gauss,datos.test);res.gauss<span class="ot">&lt;-</span><span class="fu">table</span>(prediction.gauss,datos.test<span class="sc">$</span>diagnostico)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>cmatrix1 <span class="ot">&lt;-</span> <span class="fu">confusionMatrix</span>(res.linear)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cmatrix1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

                 
prediction.linear   B   M
                B 107   3
                M   2  59
                                          
               Accuracy : 0.9708          
                 95% CI : (0.9331, 0.9904)
    No Information Rate : 0.6374          
    P-Value [Acc &gt; NIR] : &lt;2e-16          
                                          
                  Kappa : 0.9365          
                                          
 Mcnemar's Test P-Value : 1               
                                          
            Sensitivity : 0.9817          
            Specificity : 0.9516          
         Pos Pred Value : 0.9727          
         Neg Pred Value : 0.9672          
             Prevalence : 0.6374          
         Detection Rate : 0.6257          
   Detection Prevalence : 0.6433          
      Balanced Accuracy : 0.9666          
                                          
       'Positive' Class : B               
                                          </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>cmatrix2<span class="ot">&lt;-</span><span class="fu">confusionMatrix</span>(res.gauss)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cmatrix2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

                
prediction.gauss   B   M
               B 107   3
               M   2  59
                                          
               Accuracy : 0.9708          
                 95% CI : (0.9331, 0.9904)
    No Information Rate : 0.6374          
    P-Value [Acc &gt; NIR] : &lt;2e-16          
                                          
                  Kappa : 0.9365          
                                          
 Mcnemar's Test P-Value : 1               
                                          
            Sensitivity : 0.9817          
            Specificity : 0.9516          
         Pos Pred Value : 0.9727          
         Neg Pred Value : 0.9672          
             Prevalence : 0.6374          
         Detection Rate : 0.6257          
   Detection Prevalence : 0.6433          
      Balanced Accuracy : 0.9666          
                                          
       'Positive' Class : B               
                                          </code></pre>
</div>
</div>
<ol start="4" type="1">
<li><strong>Validación cruzada quintuple OPCIONAL</strong></li>
</ol>
<p>La Validación Cruzada o k-fold Cross Validation implica dividir los datos originales en dos conjuntos distintos: uno de entrenamiento y prueba, y otro de validación.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># modelo 5-crossvalidation </span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>model<span class="fl">.5</span>v.linear <span class="ot">&lt;-</span> <span class="fu">train</span>(diagnostico <span class="sc">~</span> ., datos.train, <span class="at">method=</span><span class="st">'svmLinear'</span>, </span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">trControl=</span> <span class="fu">trainControl</span>(<span class="at">method=</span><span class="st">'cv'</span>, <span class="at">number=</span><span class="dv">5</span>), </span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">tuneGrid=</span> <span class="cn">NULL</span>, <span class="at">tuneLength=</span><span class="dv">10</span> ,<span class="at">trace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(model.5v, alpha=0.6)</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model<span class="fl">.5</span>v.linear)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Length  Class   Mode 
     1   ksvm     S4 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>prediction <span class="ot">&lt;-</span> <span class="fu">predict</span>(model<span class="fl">.5</span>v.linear, datos.test)                           <span class="co"># predict</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>res.linear<span class="fl">.2</span><span class="ot">&lt;-</span><span class="fu">table</span>(prediction, datos.test<span class="sc">$</span>diagnostico)                                  <span class="co"># compare</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="co"># predict can also return the probability for each class:</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>cm_nb <span class="ot">&lt;-</span> <span class="fu">confusionMatrix</span>(res.linear<span class="fl">.2</span>)</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cm_nb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

          
prediction   B   M
         B 107   3
         M   2  59
                                          
               Accuracy : 0.9708          
                 95% CI : (0.9331, 0.9904)
    No Information Rate : 0.6374          
    P-Value [Acc &gt; NIR] : &lt;2e-16          
                                          
                  Kappa : 0.9365          
                                          
 Mcnemar's Test P-Value : 1               
                                          
            Sensitivity : 0.9817          
            Specificity : 0.9516          
         Pos Pred Value : 0.9727          
         Neg Pred Value : 0.9672          
             Prevalence : 0.6374          
         Detection Rate : 0.6257          
   Detection Prevalence : 0.6433          
      Balanced Accuracy : 0.9666          
                                          
       'Positive' Class : B               
                                          </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># modelo 5-crossvalidation </span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>model<span class="fl">.5</span>v.radial <span class="ot">&lt;-</span> <span class="fu">train</span>(diagnostico <span class="sc">~</span> ., datos.train, <span class="at">method=</span><span class="st">'svmRadial'</span>, </span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">trControl=</span> <span class="fu">trainControl</span>(<span class="at">method=</span><span class="st">'cv'</span>, <span class="at">number=</span><span class="dv">5</span>), </span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">tuneGrid=</span> <span class="cn">NULL</span>, <span class="at">tuneLength=</span><span class="dv">10</span> ,<span class="at">trace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(model.5v, alpha=0.6)</span></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model<span class="fl">.5</span>v.radial)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Length  Class   Mode 
     1   ksvm     S4 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>prediction <span class="ot">&lt;-</span> <span class="fu">predict</span>(model<span class="fl">.5</span>v.radial, datos.test)                           <span class="co"># predict</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>res.radial<span class="fl">.2</span><span class="ot">&lt;-</span><span class="fu">table</span>(prediction, datos.test<span class="sc">$</span>diagnostico)                                  <span class="co"># compare</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="co"># predict can also return the probability for each class:</span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>cm_nb <span class="ot">&lt;-</span> <span class="fu">confusionMatrix</span>(res.radial<span class="fl">.2</span>)</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cm_nb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

          
prediction   B   M
         B 107   1
         M   2  61
                                          
               Accuracy : 0.9825          
                 95% CI : (0.9496, 0.9964)
    No Information Rate : 0.6374          
    P-Value [Acc &gt; NIR] : &lt;2e-16          
                                          
                  Kappa : 0.9622          
                                          
 Mcnemar's Test P-Value : 1               
                                          
            Sensitivity : 0.9817          
            Specificity : 0.9839          
         Pos Pred Value : 0.9907          
         Neg Pred Value : 0.9683          
             Prevalence : 0.6374          
         Detection Rate : 0.6257          
   Detection Prevalence : 0.6316          
      Balanced Accuracy : 0.9828          
                                          
       'Positive' Class : B               
                                          </code></pre>
</div>
</div>
</section>
<section id="bootstrap" class="level3">
<h3 class="anchored" data-anchor-id="bootstrap">Bootstrap</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Por defecto es Bootstrap, con 25 repeticiones para 3 posibles decay</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="co"># y 3 posibles sizes</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>model.bootstrap.linear <span class="ot">&lt;-</span> <span class="fu">train</span>(diagnostico <span class="sc">~</span> ., datos.train, <span class="at">method=</span><span class="st">'svmLinear'</span>, <span class="at">trace =</span> <span class="cn">FALSE</span>) <span class="co"># train</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="co"># we also add parameter 'preProc = c("center", "scale"))' at train() for centering and scaling the data</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model.bootstrap.linear)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Length  Class   Mode 
     1   ksvm     S4 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>prediction <span class="ot">&lt;-</span> <span class="fu">predict</span>(model.bootstrap.linear, datos.test)                           <span class="co"># predict</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>res.gauss<span class="fl">.2</span><span class="ot">&lt;-</span><span class="fu">table</span>(prediction, datos.test<span class="sc">$</span>diagnostico)                                  <span class="co"># compare</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a><span class="co"># predict can also return the probability for each class:</span></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a><span class="co"># prediction &lt;- predict(model.bootstrap.linear, datos.test, type="prob")  </span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a><span class="co"># head(prediction)</span></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a><span class="fu">confusionMatrix</span>(res.gauss<span class="fl">.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

          
prediction   B   M
         B 107   3
         M   2  59
                                          
               Accuracy : 0.9708          
                 95% CI : (0.9331, 0.9904)
    No Information Rate : 0.6374          
    P-Value [Acc &gt; NIR] : &lt;2e-16          
                                          
                  Kappa : 0.9365          
                                          
 Mcnemar's Test P-Value : 1               
                                          
            Sensitivity : 0.9817          
            Specificity : 0.9516          
         Pos Pred Value : 0.9727          
         Neg Pred Value : 0.9672          
             Prevalence : 0.6374          
         Detection Rate : 0.6257          
   Detection Prevalence : 0.6433          
      Balanced Accuracy : 0.9666          
                                          
       'Positive' Class : B               
                                          </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"cancer.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>DATOS</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   569 obs. of  31 variables:
 $ diagnostico            : chr  "M" "M" "M" "M" ...
 $ mean_radius            : num  18 20.6 19.7 11.4 20.3 ...
 $ mean_texture           : num  10.4 17.8 21.2 20.4 14.3 ...
 $ mean_perimeter         : num  122.8 132.9 130 77.6 135.1 ...
 $ mean_area              : num  1001 1326 1203 386 1297 ...
 $ mean_smoothnes         : num  0.1184 0.0847 0.1096 0.1425 0.1003 ...
 $ mean_compactness       : num  0.2776 0.0786 0.1599 0.2839 0.1328 ...
 $ mean_concavity         : num  0.3001 0.0869 0.1974 0.2414 0.198 ...
 $ mean_concave_points    : num  0.1471 0.0702 0.1279 0.1052 0.1043 ...
 $ mean_simmetry          : num  0.242 0.181 0.207 0.26 0.181 ...
 $ mean_fractal_dimension : num  0.0787 0.0567 0.06 0.0974 0.0588 ...
 $ se_radius              : num  1.095 0.543 0.746 0.496 0.757 ...
 $ se_texture             : num  0.905 0.734 0.787 1.156 0.781 ...
 $ se_perimeter           : num  8.59 3.4 4.58 3.44 5.44 ...
 $ se_area                : num  153.4 74.1 94 27.2 94.4 ...
 $ se_smoothnes           : num  0.0064 0.00522 0.00615 0.00911 0.01149 ...
 $ se_compactness         : num  0.049 0.0131 0.0401 0.0746 0.0246 ...
 $ se_concavity           : num  0.0537 0.0186 0.0383 0.0566 0.0569 ...
 $ se_concave_points      : num  0.0159 0.0134 0.0206 0.0187 0.0188 ...
 $ se_simmetry            : num  0.03 0.0139 0.0225 0.0596 0.0176 ...
 $ se_fractal_dimension   : num  0.00619 0.00353 0.00457 0.00921 0.00511 ...
 $ worst_radius           : num  25.4 25 23.6 14.9 22.5 ...
 $ worst_texture          : num  17.3 23.4 25.5 26.5 16.7 ...
 $ worst_perimeter        : num  184.6 158.8 152.5 98.9 152.2 ...
 $ worst_area             : num  2019 1956 1709 568 1575 ...
 $ worst_smoothnes        : num  0.162 0.124 0.144 0.21 0.137 ...
 $ worst_compactness      : num  0.666 0.187 0.424 0.866 0.205 ...
 $ worst_concavity        : num  0.712 0.242 0.45 0.687 0.4 ...
 $ worst_concave_points   : num  0.265 0.186 0.243 0.258 0.163 ...
 $ worst_simmetry         : num  0.46 0.275 0.361 0.664 0.236 ...
 $ worst_fractal_dimension: num  0.1189 0.089 0.0876 0.173 0.0768 ...</code></pre>
</div>
</div>
<ol type="1">
<li><strong><em>Realizar una estadística descriptiva numérica de los datos</em></strong></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> diagnostico         mean_radius      mean_texture   mean_perimeter  
 Length:569         Min.   : 6.981   Min.   : 9.71   Min.   : 43.79  
 Class :character   1st Qu.:11.700   1st Qu.:16.17   1st Qu.: 75.17  
 Mode  :character   Median :13.370   Median :18.84   Median : 86.24  
                    Mean   :14.127   Mean   :19.29   Mean   : 91.97  
                    3rd Qu.:15.780   3rd Qu.:21.80   3rd Qu.:104.10  
                    Max.   :28.110   Max.   :39.28   Max.   :188.50  
   mean_area      mean_smoothnes    mean_compactness  mean_concavity   
 Min.   : 143.5   Min.   :0.05263   Min.   :0.01938   Min.   :0.00000  
 1st Qu.: 420.3   1st Qu.:0.08637   1st Qu.:0.06492   1st Qu.:0.02956  
 Median : 551.1   Median :0.09587   Median :0.09263   Median :0.06154  
 Mean   : 654.9   Mean   :0.09636   Mean   :0.10434   Mean   :0.08880  
 3rd Qu.: 782.7   3rd Qu.:0.10530   3rd Qu.:0.13040   3rd Qu.:0.13070  
 Max.   :2501.0   Max.   :0.16340   Max.   :0.34540   Max.   :0.42680  
 mean_concave_points mean_simmetry    mean_fractal_dimension   se_radius     
 Min.   :0.00000     Min.   :0.1060   Min.   :0.04996        Min.   :0.1115  
 1st Qu.:0.02031     1st Qu.:0.1619   1st Qu.:0.05770        1st Qu.:0.2324  
 Median :0.03350     Median :0.1792   Median :0.06154        Median :0.3242  
 Mean   :0.04892     Mean   :0.1812   Mean   :0.06280        Mean   :0.4052  
 3rd Qu.:0.07400     3rd Qu.:0.1957   3rd Qu.:0.06612        3rd Qu.:0.4789  
 Max.   :0.20120     Max.   :0.3040   Max.   :0.09744        Max.   :2.8730  
   se_texture      se_perimeter       se_area         se_smoothnes     
 Min.   :0.3602   Min.   : 0.757   Min.   :  6.802   Min.   :0.001713  
 1st Qu.:0.8339   1st Qu.: 1.606   1st Qu.: 17.850   1st Qu.:0.005169  
 Median :1.1080   Median : 2.287   Median : 24.530   Median :0.006380  
 Mean   :1.2169   Mean   : 2.866   Mean   : 40.337   Mean   :0.007041  
 3rd Qu.:1.4740   3rd Qu.: 3.357   3rd Qu.: 45.190   3rd Qu.:0.008146  
 Max.   :4.8850   Max.   :21.980   Max.   :542.200   Max.   :0.031130  
 se_compactness      se_concavity     se_concave_points   se_simmetry      
 Min.   :0.002252   Min.   :0.00000   Min.   :0.000000   Min.   :0.007882  
 1st Qu.:0.013080   1st Qu.:0.01509   1st Qu.:0.007638   1st Qu.:0.015160  
 Median :0.020450   Median :0.02589   Median :0.010930   Median :0.018730  
 Mean   :0.025478   Mean   :0.03189   Mean   :0.011796   Mean   :0.020542  
 3rd Qu.:0.032450   3rd Qu.:0.04205   3rd Qu.:0.014710   3rd Qu.:0.023480  
 Max.   :0.135400   Max.   :0.39600   Max.   :0.052790   Max.   :0.078950  
 se_fractal_dimension  worst_radius   worst_texture   worst_perimeter 
 Min.   :0.0008948    Min.   : 7.93   Min.   :12.02   Min.   : 50.41  
 1st Qu.:0.0022480    1st Qu.:13.01   1st Qu.:21.08   1st Qu.: 84.11  
 Median :0.0031870    Median :14.97   Median :25.41   Median : 97.66  
 Mean   :0.0037949    Mean   :16.27   Mean   :25.68   Mean   :107.26  
 3rd Qu.:0.0045580    3rd Qu.:18.79   3rd Qu.:29.72   3rd Qu.:125.40  
 Max.   :0.0298400    Max.   :36.04   Max.   :49.54   Max.   :251.20  
   worst_area     worst_smoothnes   worst_compactness worst_concavity 
 Min.   : 185.2   Min.   :0.07117   Min.   :0.02729   Min.   :0.0000  
 1st Qu.: 515.3   1st Qu.:0.11660   1st Qu.:0.14720   1st Qu.:0.1145  
 Median : 686.5   Median :0.13130   Median :0.21190   Median :0.2267  
 Mean   : 880.6   Mean   :0.13237   Mean   :0.25427   Mean   :0.2722  
 3rd Qu.:1084.0   3rd Qu.:0.14600   3rd Qu.:0.33910   3rd Qu.:0.3829  
 Max.   :4254.0   Max.   :0.22260   Max.   :1.05800   Max.   :1.2520  
 worst_concave_points worst_simmetry   worst_fractal_dimension
 Min.   :0.00000      Min.   :0.1565   Min.   :0.05504        
 1st Qu.:0.06493      1st Qu.:0.2504   1st Qu.:0.07146        
 Median :0.09993      Median :0.2822   Median :0.08004        
 Mean   :0.11461      Mean   :0.2901   Mean   :0.08395        
 3rd Qu.:0.16140      3rd Qu.:0.3179   3rd Qu.:0.09208        
 Max.   :0.29100      Max.   :0.6638   Max.   :0.20750        </code></pre>
</div>
</div>
<p><strong>Comentario</strong></p>
<p>Cuando se aplica <strong><code>summary()</code></strong> a un conjunto de datos, se calculan varias estadísticas descriptivas para cada columna. Estas estadísticas pueden incluir:</p>
<p>Medir la media y la mediana es útil para resumir rápidamente los datos, pero no nos proporciona información sobre la diversidad de los mismos.</p>
<p>Para medir la dispersión, es necesario utilizar estadísticas que se ocupen de la acumulación en los datos.</p>
<p>El resumen de cinco números es un conjunto de cinco estadísticas que representan la dispersión de un conjunto de datos:</p>
<ol type="1">
<li><p>Mínimo (Min.)</p></li>
<li><p>Primer cuartil o Q1 (1st Qu.)</p></li>
<li><p>Mediana o Q2 (Mediana)</p></li>
<li><p>Tercer cuartil o Q3 (3rd Qu.)</p></li>
<li><p>Máximo (Máx.)</p>
<p><strong>Diagrama de cajas</strong></p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>cl <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"mean_radius"</span>, <span class="st">"mean_texture"</span>, <span class="st">"mean_perimeter"</span>, <span class="st">"mean_area"</span>, <span class="st">"mean_smoothnes"</span>, <span class="st">"mean_compactness"</span>, <span class="st">"mean_concavity"</span>, <span class="st">"mean_concave_points"</span>, <span class="st">"mean_simmetry"</span>, <span class="st">"mean_fractal_dimension"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>data_seleccionados <span class="ot">&lt;-</span> data[cl]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co">#diagrama de cajas unido</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>datos.melt<span class="ot">&lt;-</span>reshape2<span class="sc">::</span><span class="fu">melt</span>((data_seleccionados))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>No id variables; using all as measure variables</code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(datos.melt,<span class="fu">aes</span>(<span class="at">y=</span>value,<span class="at">fill=</span>variable))<span class="sc">+</span><span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="SVM_TAREA_UNIDAD-III_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Diagrama de densidad</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>datos.melt1<span class="ot">&lt;-</span>reshape2<span class="sc">::</span><span class="fu">melt</span>((data_seleccionados))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>No id variables; using all as measure variables</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(datos.melt1,<span class="fu">aes</span>(<span class="at">x=</span>value))<span class="sc">+</span><span class="fu">geom_density</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="SVM_TAREA_UNIDAD-III_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ol start="6" type="1">
<li><strong>Realizar un PCA sobre las variables.</strong></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>cl <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"mean_radius"</span>, <span class="st">"mean_texture"</span>, <span class="st">"mean_perimeter"</span>, <span class="st">"mean_area"</span>, <span class="st">"mean_smoothnes"</span>, <span class="st">"mean_compactness"</span>, <span class="st">"mean_concavity"</span>, <span class="st">"mean_concave_points"</span>, <span class="st">"mean_simmetry"</span>, <span class="st">"mean_fractal_dimension"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>data_seleccionados <span class="ot">&lt;-</span> data_seleccionados[cl]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>pcx <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(data_seleccionados, <span class="at">scale. =</span> <span class="cn">FALSE</span>)</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>scree <span class="ot">&lt;-</span> pcx<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="fu">sum</span>(pcx<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(scree), scree, <span class="at">type =</span> <span class="st">"b"</span>, <span class="at">xlab =</span> <span class="st">"Componentes"</span>, <span class="at">ylab =</span> <span class="st">"Proporción de Varianza Explicada"</span>, </span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Scree Plot"</span>, <span class="at">col =</span> <span class="st">"green"</span>, <span class="at">pch =</span> <span class="dv">19</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="SVM_TAREA_UNIDAD-III_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">biplot</span>(pcx, <span class="at">scale =</span> <span class="dv">0</span>, <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"green"</span>, <span class="st">"red"</span>), <span class="at">cex =</span> <span class="fl">0.7</span>, <span class="at">main =</span> <span class="st">"Biplot - PCA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in arrows(0, 0, y[, 1L] * 0.8, y[, 2L] * 0.8, col = col[2L], length =
arrow.len): zero-length arrow is of indeterminate angle and so skipped

Warning in arrows(0, 0, y[, 1L] * 0.8, y[, 2L] * 0.8, col = col[2L], length =
arrow.len): zero-length arrow is of indeterminate angle and so skipped

Warning in arrows(0, 0, y[, 1L] * 0.8, y[, 2L] * 0.8, col = col[2L], length =
arrow.len): zero-length arrow is of indeterminate angle and so skipped

Warning in arrows(0, 0, y[, 1L] * 0.8, y[, 2L] * 0.8, col = col[2L], length =
arrow.len): zero-length arrow is of indeterminate angle and so skipped</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(pcx<span class="sc">$</span>rotation[, <span class="dv">1</span>], pcx<span class="sc">$</span>rotation[, <span class="dv">2</span>], <span class="at">labels =</span> <span class="fu">colnames</span>(data_seleccionados), <span class="at">cex =</span> <span class="fl">0.7</span>, <span class="at">pos =</span> <span class="dv">4</span>)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="dv">0</span>, <span class="at">v =</span> <span class="dv">0</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="SVM_TAREA_UNIDAD-III_files/figure-html/unnamed-chunk-26-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<ol start="4" type="1">
<li><strong>Scree plot</strong></li>
</ol>
<p>Scree Plot muestra la proporción de varianza. Cada punto de la gráfica representa un componente principal y el eje y muestra la proporción de la varianza explicada. El eje x representa el número de componentes.</p>
<p>Las líneas de Scree Plot que conectan los puntos muestran cómo se acumula la varianza explicada a medida que se agregan más componentes principales. Califique los puntos en el gráfico donde la curva se aplana o cae, por lo general, indican el número óptimo de componentes principales que se deben mantener. Los componentes anteriores a este punto suelen explicar la mayor parte de la variabilidad de los datos, mientras que los componentes posteriores a este punto pueden contener información o ruido menos relevante.</p>
<ol start="5" type="1">
<li><strong>Biplot</strong></li>
</ol>
<p>Un biplot PCA muestra una representación de los componentes principales en un espacio bidimensional, donde cada punto representa la variable original (en este caso, la columna seleccionada del conjunto de datos).</p>
<p>El color de los puntos en el biplot se utiliza para indicar el diagnóstico del caso (categoría “benigna” o “maligna”). Las líneas de referencia que se cruzan en el origen (punto [0,0]) representan los ejes de los componentes principales. Estas líneas proporcionan una referencia para la orientación y dirección de variables y observaciones en el espacio PCA.</p>
<div class="cell">

</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>clases<span class="ot">&lt;-</span><span class="fu">as.factor</span>(data[,<span class="fu">ncol</span>(data)])</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>X<span class="ot">&lt;-</span>data[,<span class="sc">-</span><span class="fu">ncol</span>(data)][,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>X.melt<span class="ot">&lt;-</span><span class="fu">melt</span>((<span class="fu">log2</span>(X)))</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>value,<span class="at">colour=</span>variable), <span class="at">data=</span>X.melt)</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">show.legend =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="SVM_TAREA_UNIDAD-III_files/figure-html/frag2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="paso-2-dividir-el-datos-en-tren-y-prueba" class="level2">
<h2 class="anchored" data-anchor-id="paso-2-dividir-el-datos-en-tren-y-prueba"><strong>Paso 2: Dividir el Datos en tren y prueba</strong></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a> n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(data_seleccionados)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create training and test data</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">set.seed</span>(<span class="dv">123456</span>)</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a> train <span class="ot">&lt;-</span> <span class="fu">sample</span>(n, <span class="fu">floor</span>(n <span class="sc">*</span> <span class="fl">0.7</span>))</span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a> datos.train <span class="ot">&lt;-</span> data[train, ]</span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a> datos.test <span class="ot">&lt;-</span> data[<span class="sc">-</span>train, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="paso-3---modelo-adiestramiento" class="level2">
<h2 class="anchored" data-anchor-id="paso-3---modelo-adiestramiento"><strong>Paso 3 - Modelo Adiestramiento</strong></h2>
<p>Usamos un kernel lineal</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>clasifier.lineal<span class="ot">&lt;-</span><span class="fu">ksvm</span>(mean_radius<span class="sc">~</span> .,<span class="at">data=</span>datos.train,<span class="at">kernel=</span><span class="st">"vanilladot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Setting default kernel parameters  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>clasifier.gauss<span class="ot">&lt;-</span><span class="fu">ksvm</span>(mean_radius<span class="sc">~</span>.,<span class="at">data=</span>datos.train,<span class="at">kernel =</span> <span class="st">"rbfdot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>clasifier.lineal</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Support Vector Machine object of class "ksvm" 

SV type: eps-svr  (regression) 
 parameter : epsilon = 0.1  cost C = 1 

Linear (vanilla) kernel function. 

Number of Support Vectors : 23 

Objective Function Value : -0.1869 
Training error : 0.002563 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>clasifier.gauss</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Support Vector Machine object of class "ksvm" 

SV type: eps-svr  (regression) 
 parameter : epsilon = 0.1  cost C = 1 

Gaussian Radial Basis kernel function. 
 Hyperparameter : sigma =  0.0406669392577396 

Number of Support Vectors : 145 

Objective Function Value : -28.648 
Training error : 0.017485 </code></pre>
</div>
</div>
</section>
<section id="paso-4-evaluación-rendimiento-del-modelo" class="level2">
<h2 class="anchored" data-anchor-id="paso-4-evaluación-rendimiento-del-modelo"><strong>Paso 4: evaluación Rendimiento del modelo</strong></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>prediction.linear<span class="ot">&lt;-</span><span class="fu">predict</span>(clasifier.lineal,datos.test);res.linear<span class="ot">&lt;-</span><span class="fu">table</span>(prediction.linear,datos.test<span class="sc">$</span>mean_radius)</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>prediction.gauss<span class="ot">&lt;-</span><span class="fu">predict</span>(clasifier.gauss,datos.test);res.gauss<span class="ot">&lt;-</span><span class="fu">table</span>(prediction.gauss,datos.test<span class="sc">$</span>mean_radius)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="paso-5-opcional-situaciones" class="level2">
<h2 class="anchored" data-anchor-id="paso-5-opcional-situaciones"><strong>Paso 5 (opcional) Situaciones:</strong></h2>
<section id="veces-validación-cruzada" class="level3">
<h3 class="anchored" data-anchor-id="veces-validación-cruzada"><strong>5.1 5 veces Validación cruzada</strong></h3>
<p><br>
</p>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>